<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="shortcut icon" href="../src/favicon.ico" type="image/x-icon">
	<link rel="stylesheet" href="../src/doc.css">
	<title>magenta programming language</title>
</head>
<body>
	<a href="../index.html">back</a>

	<section>
		<h1>/docs/mvm</h1>
		<p>the mvm (magenta virtual machine) is a virtual machine design to run magenta bytecode, it is written in C. the code is on <a href="https://github.com/magentalang/mvm">github</a></p>
	</section>

	<section>
		<h1>specifications</h1>
		<ul>
			<li>instruction set: 48 (- 5 noops = 43) instructions (0x00-2F)</li>
			<li>byte width: 8/16/32/64bit</li>
			<li>registers: 8 registers (A-H)</li>
			<li>register widths: up to 64 bit</li>
			<li>stack length: 2^16 bytes</li>
			<li>call stack limit: 2^16 bytes</li>
		</ul>
	</section>

	<section>
		<h1>bytecode header</h1>
		<p>magenta bytecode starts with the following file header, bytecode without this
			header or a malformed version of it will not be executed.</p>
		<pre>	0x 0A 4D 56 4D
	   \n M  V  M</pre>
	</section>

	<section>
		<h1>memory and io</h1>
		<p>pee</p>
	</section>

	<footer>
		<hr>
		<div class="copyright">
			<p>magenta lang</p>
			<p>
				<a href="https://github.com/magentalang">github</a>
			</p>
		</div>
	</footer>
</body>
</html>
